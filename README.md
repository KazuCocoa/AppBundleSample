In this repository, you can see how to run test `.aab` file with Appium. The `.aab` file is [app-bundle](https://developer.android.com/guide/app-bundle/) feature.
`bundletool` hasn't matured yet. So, Appium haven't supported it yet. https://github.com/appium/appium-adb/pull/366

So, to run tests with `.aab`, we need to follow _test.rb_ way.
With 0.6.0, we can't put any options for `adb install` command. We can't use `-g` option, unfortunately.

## Hint

- https://codelabs.developers.google.com/codelabs/your-first-dynamic-app/index.html?index=..%2F..%2Fio2018#4

```
# Build apks with https://github.com/google/bundletool/releases
$ java -jar apks/bundletool-all-0.6.0.jar build-apks \
  --bundle apks/release/release/app.aab \
  --output apks/AppBundleSample.apks \
  --connected-device \
  --device-id emulator-5554 \
  --ks apks/sign \
  --ks-key-alias key0 \
  --ks-pass pass:kazucocoa \
  --overwrite

# Generated by the above command
$ java -jar apks/bundletool-all-0.6.0.jar install-apks \
  --apks apks/AppBundleSample.apks \
  --device-id emulator-5554
```

## Run tests with appium
1. Launch an emulator which is 8.1 and named "emulator-5554"
2. Run below command

```
$ bundle install
$ ruby test.rb
```
